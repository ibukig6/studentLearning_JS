<!DOCTYPE html>
<html>
    <head>
        <title>測驗1</title>
        <style>
            button {
                font-size: 25px;
                margin-right: 10px;

            }
            p {
                font-size: 25px;
                display: inline-block;
                margin-right: 10px;
            }
            img {
                height: 200px;
                display: block;
                /* margin-top:50px; */
            }
        </style>
    </head>
    <body>
        <button onclick="
            cart.showCart();
        ">購物車總額</button>
        
        <button onclick="
            cart.productNum = 0;
            cart.product1.num = 0;
            cart.product2.num = 0;
            cart.totalPrice = 0;
            console.log('購物車已清空');
            cart.showCart();
        ">清空購物車</button>
        <br>
        
        <img src="hot pot.jpg">
        <br>
        <p>$100</p>
        <button onclick='
            cart.productNum +=1;
            cart.product1.num++
            cart.totalPrice += 100;
            cart.showCart();
        '>加入購物車</button>

        <img src="gift.png">
        <br>
        <p>$200</p>
        <button onclick='
            cart.productNum++
            cart.product2.num++
            cart.totalPrice += 200;
            cart.showCart();
        '>加入購物車</button>


        <br><br><br><a href="index.html">返回上一頁</a>
        
        <script>

            let total = 0;
            let cart = {
                productNum: 0,
                product1: {
                    num: 0,
                    name: "海底撈火鍋",
                    price: 100
                },
                product2: {
                    num: 0,
                    name: "雞精",
                    price: 200
                },
                totalPrice: 0,
                showCart: function showCart() {
                    console.log(`目前商品數 : ${cart.productNum}`);
                    console.log(`${cart.product1.name}有 : ${cart.product1.num} 個`);
                    console.log(`${cart.product2.name}有 : ${cart.product2.num} 個`);
                    console.log(`目前購物車總額 : ${cart.totalPrice}`);
                }
            };


            //localStorage JSON
            
            //儲存資料
            //localStorage.setItem("price",1000); //按下f12,Application,Storage,Localstorage就能找到我們存放的值了

            //抓取資料
            // const price = localStorage.getItem("price")
            // console.log(price);

            //這個方法可以把字串存在瀏覽器裡面，但只能存字串類型的資料，即使我們存入數字，電腦也會把資料改成字串再存進去
            // console.log(typeof price);
            
            //修改資料
            //localStorage.setItem("price",2000);  //同樣的名字,後面不同的字串，這樣就會蓋掉前一個同名的資料了

            //刪除資料
            //localStorage.removeItem("cart");




            /*********************** JSON ******************************/
            // JSON 格式
            //JSON格式與localStorage不同的是，JSON可以存放我們已經訂好的物件，但要注意的是，物件裡，屬性對應的值不能是函數，它會自動過濾掉
            //第二個要注意的是，JSON格式後，他一樣會變成字串格式，但我們可以把它轉換回物件
            // const jsonCart = JSON.stringify(cart);
            // console.log(jsonCart);

            // console.log(JSON.parse(jsonCart));  //這是把JSON格式給轉換回物件


            /************************* 實際操作 ************************/
            
            //首先，我們先把資料存進瀏覽器裡
            // const jsonCart = JSON.stringify(cart); //先轉成JSON格式
            // localStorage.setItem("cart",jsonCart); //再丟入localStorage裡

            //當我們需要使用時，再把資料轉換回來
            let cart1 = localStorage.getItem("cart");
            cart1 = JSON.parse(cart1);   //這一步甚至可以直接塞入下面那一行裡
            console.log(cart1);



        </script>
    </body>
</html>